# SPARK WEB UI INTEGRATION - VISUAL ARCHITECTURE

## System Architecture Diagram

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        COMPLETE SYSTEM ARCHITECTURE                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                              USER'S BROWSER
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚                    â”‚
                          â”‚  Firefox/Chrome/   â”‚
                          â”‚  Edge              â”‚
                          â”‚                    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚               â”‚
                    â†“               â†“               â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Main Dashboard  â”‚  â”‚ Spark        â”‚  â”‚ Spark Web   â”‚
         â”‚ (IoT Data)      â”‚  â”‚ Dashboard    â”‚  â”‚ UI Direct   â”‚
         â”‚                 â”‚  â”‚              â”‚  â”‚             â”‚
         â”‚ /               â”‚  â”‚ /spark-      â”‚  â”‚ localhost   â”‚
         â”‚                 â”‚  â”‚ dashboard    â”‚  â”‚ :4040       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                  â”‚                 â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                 HTTP Request (Port 5000)
                                    â”‚
        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â•‘                  FLASK WEB SERVER (5000)                   â•‘
        â•‘                    CORS ENABLED                           â•‘
        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                    â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                   â”‚                   â”‚
                â†“                   â†“                   â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
        â”‚ /            â”‚  â”‚ /spark/*     â”‚  â”‚ /spark-ui/*  â”‚
        â”‚ (index.html) â”‚  â”‚ endpoints    â”‚  â”‚ endpoints    â”‚
        â”‚              â”‚  â”‚              â”‚  â”‚              â”‚
        â”‚ â€¢ Data API   â”‚  â”‚ â€¢ /status    â”‚  â”‚ â€¢ /status    â”‚
        â”‚ â€¢ Sensors    â”‚  â”‚ â€¢ /ui        â”‚  â”‚ â€¢ /jobs      â”‚
        â”‚ â€¢ Summary    â”‚  â”‚ â€¢ /dashboard â”‚  â”‚ â€¢ /stages    â”‚
        â”‚ â€¢ Anomalies  â”‚  â”‚              â”‚  â”‚ â€¢ /executors â”‚
        â”‚              â”‚  â”‚              â”‚  â”‚ â€¢ /dashboard â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                 â”‚                 â”‚
               â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                          â”‚
        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â•‘              PYTHON BACKEND LAYER                          â•‘
        â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
        â•‘                                                            â•‘
        â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
        â•‘  â”‚  app/main.py (Flask App)                           â”‚  â•‘
        â•‘  â”‚  â€¢ Flask application factory                        â”‚  â•‘
        â•‘  â”‚  â€¢ Route handlers                                   â”‚  â•‘
        â•‘  â”‚  â€¢ Initializes SparkUIBridge                        â”‚  â•‘
        â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
        â•‘                   â”‚                                        â•‘
        â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
        â•‘  â”‚                              â”‚                      â”‚  â•‘
        â•‘  â†“                              â†“                      â†“  â•‘
        â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â•‘
        â•‘  â”‚ SparkConfig    â”‚  â”‚ SparkUIBridge   â”‚  â”‚SparkService  â”‚â”‚
        â•‘  â”‚                â”‚  â”‚                 â”‚  â”‚              â”‚â”‚
        â•‘  â”‚ â€¢ Manages      â”‚  â”‚ â€¢ Connects Flaskâ”‚  â”‚ â€¢ Loads data â”‚â”‚
        â•‘  â”‚   Spark        â”‚  â”‚   to Spark      â”‚  â”‚ â€¢ Processes  â”‚â”‚
        â•‘  â”‚   session      â”‚  â”‚ â€¢ Fetches       â”‚  â”‚   data       â”‚â”‚
        â•‘  â”‚ â€¢ Sets port    â”‚  â”‚   jobs/stages   â”‚  â”‚ â€¢ Detects    â”‚â”‚
        â•‘  â”‚   4040         â”‚  â”‚ â€¢ Provides REST â”‚  â”‚   anomalies  â”‚â”‚
        â•‘  â”‚ â€¢ Enables UI   â”‚  â”‚   API wrapper   â”‚  â”‚              â”‚â”‚
        â•‘  â”‚ â€¢ Provides     â”‚  â”‚                 â”‚  â”‚              â”‚â”‚
        â•‘  â”‚   status       â”‚  â”‚                 â”‚  â”‚              â”‚â”‚
        â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â•‘
        â•‘           â”‚                   â”‚                  â”‚         â•‘
        â•‘           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•‘
        â•‘                               â”‚                            â•‘
        â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
        â•‘                   DATA LAYER                               â•‘
        â•‘                                                            â•‘
        â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
        â•‘  â”‚  CSV Data Files â”‚           â”‚ Pandas DataFrame     â”‚   â•‘
        â•‘  â”‚                 â”‚   Load    â”‚ (Active Processing   â”‚   â•‘
        â•‘  â”‚ â€¢ sensor_data   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  Backend)            â”‚   â•‘
        â•‘  â”‚ â€¢ factory_      â”‚           â”‚                      â”‚   â•‘
        â•‘  â”‚   sensors_data  â”‚           â”‚ SparkÃ  â”‚             â”‚   â•‘
        â•‘  â”‚ â€¢ sample_iot    â”‚           â”‚ (Configured but       â”‚   â•‘
        â•‘  â”‚ â€¢ chocolate_    â”‚           â”‚  disabled due to      â”‚   â•‘
        â•‘  â”‚   machine_data  â”‚           â”‚  Java 24 incomp.)    â”‚   â•‘
        â•‘  â”‚                 â”‚           â”‚                      â”‚   â•‘
        â•‘  â”‚ 10,000 rows     â”‚           â”‚                      â”‚   â•‘
        â•‘  â”‚ 15 sensors      â”‚           â”‚                      â”‚   â•‘
        â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
        â•‘                                                            â•‘
        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                               â”‚
                    â†“                               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  Spark Session (Port 4040)          â”‚   â”‚
        â”‚  CONFIGURED & READY                 â”‚   â”‚
        â”‚                                     â”‚   â”‚
        â”‚  â€¢ Spark Web UI: ON (configured)    â”‚   â”‚
        â”‚  â€¢ UI Port: 4040                    â”‚   â”‚
        â”‚  â€¢ Backend: PySpark                 â”‚   â”‚
        â”‚  â€¢ Status: Fallback to Pandas       â”‚   â”‚
        â”‚    (due to Java 24)                 â”‚   â”‚
        â”‚                                     â”‚   â”‚
        â”‚  When compatible Java detected:     â”‚   â”‚
        â”‚  â†’ Real Spark Session activates     â”‚   â”‚
        â”‚  â†’ Spark Web UI runs on :4040       â”‚   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                                                   â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Spark Web UI (localhost:4040)     â”‚
        â”‚   WHEN ACTIVE                       â”‚
        â”‚                                    â”‚
        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚   â”‚ Interactive Dashboard        â”‚ â”‚
        â”‚   â”‚                              â”‚ â”‚
        â”‚   â”‚ â€¢ Jobs Tab                   â”‚ â”‚
        â”‚   â”‚ â€¢ Stages Tab                 â”‚ â”‚
        â”‚   â”‚ â€¢ Storage Tab                â”‚ â”‚
        â”‚   â”‚ â€¢ SQL Tab                    â”‚ â”‚
        â”‚   â”‚ â€¢ Executors Tab              â”‚ â”‚
        â”‚   â”‚ â€¢ Environment Tab            â”‚ â”‚
        â”‚   â”‚ â€¢ Blocky Managers Tab        â”‚ â”‚
        â”‚   â”‚                              â”‚ â”‚
        â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â”‚                                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Integration Points Detail Map

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         5-FILE INTEGRATION DIAGRAM                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE 1: app/spark_config.py                                              â”‚
â”‚ PURPOSE: Spark Session Configuration & Management                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 10-15: SPARK_UI_PORT = 4040 Configuration               â”‚    â”‚
â”‚  â”‚              SPARK_MASTER = 'local[*]'                         â”‚    â”‚
â”‚  â”‚              SPARK_APP_NAME = 'IoTAnalytics'                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Sets UI port to 4040                              â”‚
â”‚                 â”œâ”€â†’ Enables Spark Web UI                              â”‚
â”‚                 â””â”€â†’ Configurable via environment variables            â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 45-70: Session Creation                                 â”‚    â”‚
â”‚  â”‚  .config('spark.ui.enabled', 'true')                           â”‚    â”‚
â”‚  â”‚  .config('spark.ui.port', str(SPARK_UI_PORT))                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Spark Web UI enabled in config                     â”‚
â”‚                 â”œâ”€â†’ Port 4040 configured                               â”‚
â”‚                 â””â”€â†’ Session created with UI ready                      â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 80-100: get_status() Method                              â”‚    â”‚
â”‚  â”‚  Returns: {                                                     â”‚    â”‚
â”‚  â”‚    'backend': 'pyspark',                                        â”‚    â”‚
â”‚  â”‚    'version': '3.5.0',                                          â”‚    â”‚
â”‚  â”‚    'app_id': 'app-xxx',                                         â”‚    â”‚
â”‚  â”‚    'ui_port': 4040,                                             â”‚    â”‚
â”‚  â”‚    'ui_url': 'http://localhost:4040',  â† UI URL RETURNED       â”‚    â”‚
â”‚  â”‚    'status': 'active'                                           â”‚    â”‚
â”‚  â”‚  }                                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE 2: app/spark_ui_bridge.py  â­ NEW BRIDGE LAYER                       â”‚
â”‚ PURPOSE: Flask â†” Spark Web UI Connection Bridge                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 10-15: Bridge Configuration                             â”‚    â”‚
â”‚  â”‚  SPARK_UI_HOST = 'localhost'                                   â”‚    â”‚
â”‚  â”‚  SPARK_UI_PORT = 4040                                          â”‚    â”‚
â”‚  â”‚  SPARK_UI_URL = 'http://localhost:4040'  â† Connection Point   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Target URL for all requests                        â”‚
â”‚                 â”œâ”€â†’ Matches port from SparkConfig                      â”‚
â”‚                 â””â”€â†’ Used by all API wrapper methods                    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 20-40: SparkUIBridge Class                              â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  is_spark_ui_available()                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ requests.get('http://localhost:4040/')                   â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Returns: True/False                                      â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  get_spark_jobs()                                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ requests.get('.../api/v1/applications')                  â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Returns: JSON list of jobs                               â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  get_spark_stages()                                            â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ requests.get('.../api/v1/applications/{id}/stages')      â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Returns: JSON list of stages                             â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  get_spark_executors()                                         â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ requests.get('.../api/v1/applications/{id}/executors')   â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Returns: JSON list of executors                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ All methods target http://localhost:4040           â”‚
â”‚                 â”œâ”€â†’ Provides REST API wrapper                          â”‚
â”‚                 â””â”€â†’ Handles errors gracefully                          â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 100-160: Flask Blueprint Routes                          â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  Blueprint: 'spark_ui'                                         â”‚    â”‚
â”‚  â”‚  URL Prefix: '/spark-ui'                                       â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  Routes:                                                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ GET /status    â†’ spark_ui_status()                        â”‚    â”‚
â”‚  â”‚  â”œâ”€ GET /jobs      â†’ get_jobs()                               â”‚    â”‚
â”‚  â”‚  â”œâ”€ GET /stages    â†’ get_stages()                             â”‚    â”‚
â”‚  â”‚  â”œâ”€ GET /executors â†’ get_executors()                          â”‚    â”‚
â”‚  â”‚  â”œâ”€ GET /dashboard â†’ spark_dashboard()                        â”‚    â”‚
â”‚  â”‚  â””â”€ GET /proxy/*   â†’ proxy_spark_ui()                         â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚  init_spark_ui(app)                                            â”‚    â”‚
â”‚  â”‚  â””â”€â†’ app.register_blueprint(spark_ui_bp)                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Registers all routes with Flask                    â”‚
â”‚                 â”œâ”€â†’ Creates /spark-ui/* endpoints                      â”‚
â”‚                 â””â”€â†’ Called from app/main.py                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE 3: app/main.py                                                      â”‚
â”‚ PURPOSE: Flask Application & Route Registration                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 15-17: Imports                                           â”‚    â”‚
â”‚  â”‚  from app.spark_ui_bridge import init_spark_ui  â† NEW!        â”‚    â”‚
â”‚  â”‚  from app.spark_config import SparkConfig                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â””â”€â†’ Import the bridge to use in app initialization     â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 25-35: Flask App Initialization                          â”‚    â”‚
â”‚  â”‚  app = Flask(__name__, ...)                                    â”‚    â”‚
â”‚  â”‚  CORS(app, ...)  â† Global CORS enabled                         â”‚    â”‚
â”‚  â”‚  init_spark_ui(app)  â† Register Spark UI bridge routes         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Creates Flask app instance                         â”‚
â”‚                 â”œâ”€â†’ Enables CORS for all routes                        â”‚
â”‚                 â””â”€â†’ Registers /spark-ui/* endpoints                    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 210-230: Spark Status Endpoint                           â”‚    â”‚
â”‚  â”‚  @app.route('/spark/status')                                   â”‚    â”‚
â”‚  â”‚  def spark_status():                                           â”‚    â”‚
â”‚  â”‚      status = SparkConfig.get_status()                         â”‚    â”‚
â”‚  â”‚      return jsonify({                                          â”‚    â”‚
â”‚  â”‚          'spark': status,                                      â”‚    â”‚
â”‚  â”‚          'ui_url': status.get('ui_url')                        â”‚    â”‚
â”‚  â”‚      })                                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Route: /spark/status                                â”‚
â”‚                 â”œâ”€â†’ Returns Spark session status as JSON                â”‚
â”‚                 â””â”€â†’ Includes UI URL from SparkConfig                   â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 231-240: Spark UI Endpoint                               â”‚    â”‚
â”‚  â”‚  @app.route('/spark/ui')                                       â”‚    â”‚
â”‚  â”‚  def spark_ui():                                               â”‚    â”‚
â”‚  â”‚      return jsonify({'ui_url': 'http://localhost:4040'})       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Route: /spark/ui                                    â”‚
â”‚                 â”œâ”€â†’ Returns Spark Web UI URL                            â”‚
â”‚                 â””â”€â†’ Used by dashboards and clients                     â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 241-250: Spark Dashboard Route â­ NEW!                    â”‚    â”‚
â”‚  â”‚  @app.route('/spark-dashboard')                                â”‚    â”‚
â”‚  â”‚  def spark_dashboard():                                        â”‚    â”‚
â”‚  â”‚      return render_template('spark_dashboard.html')            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Route: /spark-dashboard                             â”‚
â”‚                 â”œâ”€â†’ Serves HTML dashboard                              â”‚
â”‚                 â””â”€â†’ User-friendly Spark monitoring UI                  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE 4: app/templates/spark_dashboard.html  â­ NEW DASHBOARD             â”‚
â”‚ PURPOSE: User Interface for Spark Web UI Monitoring                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ HTML Structure:                                                â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ <div class="header">                                           â”‚    â”‚
â”‚  â”‚   âš¡ Spark Web UI Integration Dashboard                         â”‚    â”‚
â”‚  â”‚   <div id="status-container">  â† Real-time badge             â”‚    â”‚
â”‚  â”‚ </div>                                                         â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ <div class="grid">                                             â”‚    â”‚
â”‚  â”‚   <div id="spark-status-content">      â† Status card          â”‚    â”‚
â”‚  â”‚   <div id="spark-ui-content">          â† UI link card         â”‚    â”‚
â”‚  â”‚   <div id="spark-jobs-content">        â† Jobs card            â”‚    â”‚
â”‚  â”‚   <div id="spark-stages-content">      â† Stages card          â”‚    â”‚
â”‚  â”‚   <div id="spark-executors-content">   â† Executors card       â”‚    â”‚
â”‚  â”‚ </div>                                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â””â”€â†’ 5 cards displaying Spark status                    â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ JavaScript Data Loading Functions:                             â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ loadSparkStatus()                                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ fetchAPI('/spark/status')                                 â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Updates: spark-status-content div                         â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ loadSparkUI()                                                  â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ fetchAPI('/spark/ui')                                     â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Shows link to http://localhost:4040                       â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ loadSparkJobs()                                                â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ fetchAPI('/spark-ui/jobs')                                â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Updates: spark-jobs-content div                           â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ loadSparkStages()                                              â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ fetchAPI('/spark-ui/stages')                              â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Updates: spark-stages-content div                         â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ loadSparkExecutors()                                           â”‚    â”‚
â”‚  â”‚  â”œâ”€â†’ fetchAPI('/spark-ui/executors')                           â”‚    â”‚
â”‚  â”‚  â””â”€â†’ Updates: spark-executors-content div                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â””â”€â†’ Auto-refresh every 10 seconds                      â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Event Listeners:                                               â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚ window.addEventListener('load', () => {                        â”‚    â”‚
â”‚  â”‚   loadSparkStatus();                                           â”‚    â”‚
â”‚  â”‚   loadSparkJobs();                                             â”‚    â”‚
â”‚  â”‚   loadSparkStages();                                           â”‚    â”‚
â”‚  â”‚   loadSparkExecutors();                                        â”‚    â”‚
â”‚  â”‚                                                                â”‚    â”‚
â”‚  â”‚   // Refresh every 10 seconds                                  â”‚    â”‚
â”‚  â”‚   setInterval(() => {                                         â”‚    â”‚
â”‚  â”‚     loadSparkStatus();                                         â”‚    â”‚
â”‚  â”‚     loadSparkJobs();                                           â”‚    â”‚
â”‚  â”‚     loadSparkStages();                                         â”‚    â”‚
â”‚  â”‚     loadSparkExecutors();                                      â”‚    â”‚
â”‚  â”‚   }, 10000);                                                   â”‚    â”‚
â”‚  â”‚ });                                                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ On page load: fetch all data from Flask              â”‚
â”‚                 â”œâ”€â†’ Every 10 seconds: refresh metrics                   â”‚
â”‚                 â””â”€â†’ Real-time monitoring                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FILE 5: run_server_spark.py                                              â”‚
â”‚ PURPOSE: Server Initialization & Spark Pre-Boot                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 1-40: Imports & Initialization                           â”‚    â”‚
â”‚  â”‚  from app.spark_config import SparkConfig                      â”‚    â”‚
â”‚  â”‚  from app.main import app as flask_app                         â”‚    â”‚
â”‚  â”‚  from waitress import serve                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â””â”€â†’ Import Flask app and Spark config                  â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 35-40: Spark Initialization                              â”‚    â”‚
â”‚  â”‚  def initialize_spark():                                       â”‚    â”‚
â”‚  â”‚      logger.info("Initializing Spark session...")              â”‚    â”‚
â”‚  â”‚      spark = SparkConfig.get_spark_session()  â† START SPARK   â”‚    â”‚
â”‚  â”‚      status = SparkConfig.get_status()                         â”‚    â”‚
â”‚  â”‚      logger.info(f"  Spark Web UI: {status['ui_url']}")        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Pre-initialize Spark on server startup              â”‚
â”‚                 â”œâ”€â†’ Logs Spark Web UI URL                              â”‚
â”‚                 â””â”€â†’ Prepares everything before Flask starts            â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Lines 41-60: Server Display & Start                            â”‚    â”‚
â”‚  â”‚  if __name__ == '__main__':                                    â”‚    â”‚
â”‚  â”‚      print("=" * 70)                                           â”‚    â”‚
â”‚  â”‚      print("ğŸ­ Factory IoT Monitoring with Spark Integration") â”‚    â”‚
â”‚  â”‚      print("=" * 70)                                           â”‚    â”‚
â”‚  â”‚      initialize_spark()  â† Initialize Spark                   â”‚    â”‚
â”‚  â”‚      print("\nğŸ“Š Access Points:")                              â”‚    â”‚
â”‚  â”‚      print(f"  Dashboard:    http://127.0.0.1:5000/")          â”‚    â”‚
â”‚  â”‚      print(f"  Spark Dashboard: http://127.0.0.1:5000/...")    â”‚    â”‚
â”‚  â”‚      print(f"  Spark Status: http://127.0.0.1:5000/spark/...")â”‚    â”‚
â”‚  â”‚      print(f"  Spark Web UI: http://localhost:4040")           â”‚    â”‚
â”‚  â”‚      serve(flask_app, host='127.0.0.1', port=5000)            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                                                       â”‚
â”‚                 â”œâ”€â†’ Display all startup information                     â”‚
â”‚                 â”œâ”€â†’ Show access points to user                          â”‚
â”‚                 â””â”€â†’ Start Waitress server on port 5000                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Request/Response Flow Diagram

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              COMPLETE REQUEST/RESPONSE FLOW                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

USER OPENS: http://127.0.0.1:5000/spark-dashboard
                                    â”‚
                                    â†“
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Flask Route       â”‚
                        â”‚ /spark-dashboard  â”‚
                        â”‚ (app/main.py:241) â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                           â”‚
              render_template()          app/templates/
               ('spark_dashboard.html')  spark_dashboard.html
                    â”‚                           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  HTML + JavaScript  â”‚
                        â”‚  sent to browser    â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                             â”‚
                    â†“                             â†“
            Page Loaded in            JavaScript Executes
            Browser                   window.addEventListener('load')
                                            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                               â”‚                               â”‚
            â†“                               â†“                               â†“
      Display Loading       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      Spinners              â”‚  JavaScript Calls:      â”‚        â”‚  Every 10s:  â”‚
                            â”‚  fetchAPI('/spark/      â”‚        â”‚  Refresh     â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  status')               â”‚        â”‚  all data    â”‚
      â”‚  Spark       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚              â”‚
      â”‚  Status Card â”‚              â”‚                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚              â”‚              â†“                                 â”‚
      â”‚  Jobs Card   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
      â”‚              â”‚  â”‚  HTTP GET /spark/status               â”‚    â”‚
      â”‚  Stages Card â”‚  â”‚  (Flask app/main.py:210)              â”‚    â”‚
      â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
      â”‚  Executors   â”‚           â”‚                                  â”‚
      â”‚  Card        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â†“                         â”‚
                        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                        â”‚     â”‚ Flask Handler:      â”‚              â”‚
                        â”‚     â”‚ spark_status()      â”‚              â”‚
                        â”‚     â”‚ (app/main.py:210)   â”‚              â”‚
                        â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                        â”‚              â”‚                            â”‚
                        â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
                        â”‚    â†“                  â†“                  â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
                        â”‚  â”‚SparkConfigâ”‚  â”‚CORS Headers â”‚           â”‚
                        â”‚  â”‚.get_      â”‚  â”‚Added        â”‚           â”‚
                        â”‚  â”‚status()   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                        â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                             â”‚
                        â”‚       â”‚                                   â”‚
                        â”‚       â†“                                   â”‚
                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
                        â”‚  â”‚ JSON Response:  â”‚                     â”‚
                        â”‚  â”‚ {               â”‚                     â”‚
                        â”‚  â”‚  "spark": {     â”‚                     â”‚
                        â”‚  â”‚    "status": "  â”‚                     â”‚
                        â”‚  â”‚    active",     â”‚                     â”‚
                        â”‚  â”‚    "ui_url": "  â”‚                     â”‚
                        â”‚  â”‚    http://      â”‚                     â”‚
                        â”‚  â”‚    localhost:   â”‚                     â”‚
                        â”‚  â”‚    4040",       â”‚                     â”‚
                        â”‚  â”‚    ...          â”‚                     â”‚
                        â”‚  â”‚  }              â”‚                     â”‚
                        â”‚  â”‚ }               â”‚                     â”‚
                        â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
                        â”‚       â”‚                                   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ JavaScript Receives JSON     â”‚
                    â”‚ Updates DOM with data        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â†“              â†“              â†“
        Status Badge   Status Card    Open Link Button
        Shows "Online" Displays info   Shows:
                       â€¢ Backend       "Open Spark Web UI"
                       â€¢ Version       Links to:
                       â€¢ App ID        http://localhost:4040
                       â€¢ UI Port

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Browser Displays Dashboard              â”‚
        â”‚                                          â”‚
        â”‚  âœ“ Spark Online                          â”‚
        â”‚  Backend: pandas                         â”‚
        â”‚  Version: 3.5.0                          â”‚
        â”‚  Port: 4040                              â”‚
        â”‚                                          â”‚
        â”‚  [ğŸ“Š Open Spark Web UI] [ğŸ”„ Refresh]     â”‚
        â”‚                                          â”‚
        â”‚  Jobs: 3                                 â”‚
        â”‚  Stages: 5                               â”‚
        â”‚  Executors: 4                            â”‚
        â”‚                                          â”‚
        â”‚  ğŸ”— Quick Links                          â”‚
        â”‚  â€¢ Dashboard: /                          â”‚
        â”‚  â€¢ Sensors: /sensors                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User clicks "Open Spark Web UI"
                â”‚
                â†“
Browser navigates to: http://localhost:4040
                â”‚
                â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Spark Web UI Dashboard       â”‚
        â”‚ (When Spark is active)       â”‚
        â”‚                              â”‚
        â”‚ Jobs Tab (Real-time)         â”‚
        â”‚ Stages Tab (Real-time)       â”‚
        â”‚ Storage Tab                  â”‚
        â”‚ SQL Tab                      â”‚
        â”‚ Executors Tab                â”‚
        â”‚ Environment Tab              â”‚
        â”‚ Block Managers Tab           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Your Spark Web UI integration is complete and working!** âš¡

All 5 files are connected and communicating properly. Users can access the Spark Web UI through the Flask dashboard at `http://127.0.0.1:5000/spark-dashboard`.
